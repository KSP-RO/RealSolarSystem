// *******************************************************************************
 // Revised: Apr 22, 2021             Thalassa / (Neptune)                     804

 // SATELLITE PHYSICAL PROPERTIES:
  // Radius (km)             =  40             Density (g cm^-3)   =              
  // GM (km^3/s^2)           = 2.35887(10)^-2  Geometric Albedo    =  0.06 
                                            // V(1,0)              = +9.1 

 // SATELLITE ORBITAL DATA (see ephemeris):
  // Semi-major axis, a (km) = 50.075(10^3)    Orbital period      = 0.311485 d
  // Eccentricity, e         = 0.0             Rotational period   = 
  // Inclination, i  (deg)   = 0.21

 // Fit to all reported data through 2020 (Voyager 2, ground, HST)
// *******************************************************************************


// *******************************************************************************
// Ephemeris / WWW_USER Fri Apr  8 22:35:34 2022 Pasadena, USA      / Horizons
// *******************************************************************************
// Target body name: Thalassa (804)                  {source: nep097}
// Center body name: Neptune (899)                   {source: nep097}
// Center-site name: BODY CENTER
// *******************************************************************************
// Start time      : A.D. 1949-Dec-31 22:09:50.4000 TDB
// Stop  time      : A.D. 1949-Dec-31 22:09:51.4000 TDB
// Step-size       : 1440 minutes
// *******************************************************************************
// Center geodetic : 0.00000000,0.00000000,0.0000000 {W-lon(deg),Lat(deg),Alt(km)}
// Center cylindric: 0.00000000,0.00000000,0.0000000 {W-lon(deg),Dxy(km),Dz(km)}
// Center pole/equ : IAU_NEPTUNE                     {West-longitude positive}
// Center radii    : 24764.0 x 24764.0 x 24341.0 km  {Equator, meridian, pole}    
// Keplerian GM    : 6.8350999920355473E+06 km^3/s^2
// Output units    : KM-S, deg
// Output type     : GEOMETRIC osculating elements
// Output format   : 10
// Reference frame : IAU_NEPTUNE body equator and node of date
// *******************************************************************************
// JDTDB
   // EC    QR   IN
   // OM    W    Tp
   // N     MA   TA
   // A     AD   PR
// *******************************************************************************
// $$SOE
// 2433282.423500000 = A.D. 1949-Dec-31 22:09:50.4000 TDB 
 // EC= 1.138645266401598E-03 QR= 5.008259089801917E+04 IN= 6.083853439973270E-01
 // OM= 3.320321188875635E+02 W = 3.571235542679646E+02 Tp=      410.597708596434
 // N = 1.334205427544136E-02 MA= 3.545217830865345E+02 TA= 3.545093089221077E+02
 // A = 5.013968220982627E+04 AD= 5.019677352163337E+04 PR= 2.698235163550862E+04
// $$EOE
// *******************************************************************************
 
// TIME

  // Barycentric Dynamical Time ("TDB" or T_eph) output was requested. This
// continuous relativistic coordinate time is equivalent to the relativistic
// proper time of a clock at rest in a reference frame comoving with the
// solar system barycenter but outside the system's gravity well. It is the
// independent variable in the solar system relativistic equations of motion.

  // TDB runs at a uniform rate of one SI second per second and is independent
// of irregularities in Earth's rotation.

  // Calendar dates prior to 1582-Oct-15 are in the Julian calendar system.
// Later calendar dates are in the Gregorian system.

// REFERENCE FRAME AND COORDINATES

  // Body equator and node of date (IAU_NEPTUNE)

    // Reference epoch: "of date"
    // Reference plane: FK4/B1950.0 
    // X-Y plane: central-body IAU_NEPTUNE equator plane at reference epoch
    // X-axis   : out along the ascending node of the central-body IAU_NEPTUNE
                // equator plane on the reference plane at the reference epoch
    // Z-axis   : along the central-body IAU_NEPTUNE north-pole at the reference
                // epoch

  // Symbol meaning:

    // JDTDB    Julian Day Number, Barycentric Dynamical Time
      // EC     Eccentricity, e
      // QR     Periapsis distance, q (km)
      // IN     Inclination w.r.t X-Y plane, i (degrees)
      // OM     Longitude of Ascending Node, OMEGA, (degrees)
      // W      Argument of Perifocus, w (degrees)
      // Tp     Time of periapsis relative to epoch (P-E) (sec)
      // N      Mean motion, n (degrees/sec)
      // MA     Mean anomaly, M (degrees)
      // TA     True anomaly, nu (degrees)
      // A      Semi-major axis, a (km)
      // AD     Apoapsis distance (km)
      // PR     Sidereal orbit period (sec)

// ABERRATIONS AND CORRECTIONS

 // Geometric osculating elements have NO corrections or aberrations applied.

// Computations by ...

    // Solar System Dynamics Group, Horizons On-Line Ephemeris System
    // 4800 Oak Grove Drive, Jet Propulsion Laboratory
    // Pasadena, CA  91109   USA

    // General site: https://ssd.jpl.nasa.gov/
    // Mailing list: https://ssd.jpl.nasa.gov/email_list.html
    // System news : https://ssd.jpl.nasa.gov/horizons/news.html
    // User Guide  : https://ssd.jpl.nasa.gov/horizons/manual.html
    // Connect     : browser        https://ssd.jpl.nasa.gov/horizons/app.html#/x
                  // API            https://ssd-api.jpl.nasa.gov/doc/horizons.html
                  // command-line   telnet ssd.jpl.nasa.gov 6775
                  // e-mail/batch   https://ssd.jpl.nasa.gov/ftp/ssd/hrzn_batch.txt
                  // scripts        https://ssd.jpl.nasa.gov/ftp/ssd/SCRIPTS
    // Author      : Jon.D.Giorgini@jpl.nasa.gov
// *******************************************************************************

@Kopernicus:FOR[RealSolarSystem]
{
	// Thalassa
	Body
	{
		name = Thalassa
		finalizeOrbit = true
		flightGlobalsIndex = 100
		cacheFile = RealSolarSystem/RSSKopernicus/Cache/Thalassa.bin
		Template
		{
			name = Bop
			removePQSMods = PQSMod_FlattenArea, PQSMod_MapDecal, PQSMod_VertexSimplexNoiseColor, PQSMod_VertexSimplexHeightAbsolute, PQSMod_VertexHeightNoise, PQSLandControl
		}
		Orbit
		{
			// Target body name: Thalassa (804)
			// Center body name: Neptune (899)
			// Center-site name: BODY CENTER
			referenceBody = Neptune
			semiMajorAxis = 50139682.20982627
			eccentricity = 0.001138645266401598
			inclination = 0.6083853439973270
			meanAnomalyAtEpochD = 354.5217830865345
			longitudeOfAscendingNode = 332.0321188875635
			argumentOfPeriapsis = 357.1235542679646
			color = 0.29019607843, 0.27450980392, 0.27450980392, 1.0
		}

		Properties
		{
			displayName = Thalassa
			description = #RSS_Thalassa_desc
			radius = 26000 // 52x100x108
			//gravParameter = 1.4279E+12
			mass = 374667108274298000 // kg
			solarRotationPeriod = False
			rotationPeriod = 507773
			tidallyLocked = true
			initialRotation = 0
			isHomeWorld = false
			timewarpAltitudeLimits = 0 1000 5000 10000 20000 50000 60000 100000
			
			sphereOfInfluence = 155000

			biomeMap = RSS-Textures/PluginData/TritonBiomes.dds

			Biomes
			{
				Biome
				{
					name = Flatlands
					displayName = #RSS_Thalassa_Biome1
					value = 3.0             // Distance based multiplier score?
					color = 1,1,1,1
				}
				Biome
				{
					name = Northern Polar Region
					displayName = #RSS_Thalassa_Biome2
					value = 3.0
					color = 0,0,0,1
				}
				Biome
				{
					name = Southern Polar Region
					displayName = #RSS_Thalassa_Biome3
					value = 3.0
					color = 0.5,0.5,0.5,1
				}

			}

			ScienceValues
			{
				landedDataValue = 12
				flyingLowDataValue = 11.5
				flyingHighDataValue = 11.5
				inSpaceLowDataValue = 11
				inSpaceHighDataValue = 10
				recoveryValue = 11
				flyingAltitudeThreshold = 7000
				spaceAltitudeThreshold = 80000
			}

		}
		ScaledVersion
		{
			type = Vacuum
			fadeStart = 20000
			fadeEnd = 25000
			Material
			{
				texture = RSS-Textures/PluginData/ThalassaColor.dds
				normals = RSS-Textures/PluginData/Thalassa_NRM.dds
				shininess = 0.05
				specular = 0,0,0,1
			}
		}
		PQS
		{
			maxQuadLengthsPerFrame = 0.03
			minLevel = 2
			maxLevel = 8
			minDetailDistance = 8
			deactivateAltitude = 85000
			fadeStart = 25000
			fadeEnd = 85000

			materialType = AtmosphericTriplanarZoomRotation
			Material
			{
				factor = 10
				factorBlendWidth = 0.1
				factorRotation = 30

				saturation = 1
				contrast = 1.3
				tintColor = 1,1,1,0
				specularColor = 0,0,0,0
				albedoBrightness = 1.6 //1

				steepPower = 1
				steepTexStart = 20000
				steepTexEnd = 30000
				steepTex = RealSolarSystem/Terrain/PluginData/Steep_Diffuse.dds
				steepTexScale = 1,1
				steepTexOffset = 0,0
				steepBumpMap = RealSolarSystem/Terrain/PluginData/Steep_Normal.dds
				steepBumpMapScale = 1,1
				steepBumpMapOffset = 0,0
				steepNearTiling = 1
				steepTiling = 1

				lowTex = RealSolarSystem/Terrain/PluginData/Moon_Diffuse.dds //Pluton_Diffuse.dds
				lowTexScale = 1,1
				lowTexOffset = 0,0
				lowTiling = 70000
				lowBumpMap = RealSolarSystem/Terrain/PluginData/Moon_Normal.dds
				lowBumpMapScale = 1,1
				lowBumpMapOffset = 0,0
				lowBumpTiling = 50000

				midTex = RealSolarSystem/Terrain/PluginData/Moon_Diffuse.dds
				midTexScale = 1,1
				midTexOffset = 0,0
				midTiling = 70000
				midBumpMap = RealSolarSystem/Terrain/PluginData/Moon_Normal.dds
				midBumpMapScale = 1,1
				midBumpMapOffset = 0,0
				midBumpTiling = 70000

				highTex = RealSolarSystem/Terrain/PluginData/Moon_Diffuse.dds
				highTexScale = 1,1
				highTexOffset = 0,0
				highTiling = 70000
				highBumpMap = RealSolarSystem/Terrain/PluginData/Moon_Normal.dds
				highBumpMapScale = 1,1
				highBumpMapOffset = 0,0
				highBumpTiling = 70000

				lowStart = 0
				lowEnd = 0.3
				highStart = 0.8
				highEnd = 1

				globalDensity = 1

				fogColorRamp =
				fogColorRampScale = 1,1
				fogColorRampOffset = 0,0

				planetOpacity = 1
				oceanFogDistance = 1000
			}
			Mods
			{
				VertexColorMap
				{
					map = RSS-Textures/PluginData/ThalassaColor.dds
					order = 10
					enabled = true
				}
				VertexHeightMap
				{
					map = RSS-Textures/PluginData/ThalassaShape.dds
					offset = 0
					deformity = 26000
					scaleDeformityByRadius = false
					order = 11
					enabled = true
				}
				VertexHeightMap
				{
					map = RSS-Textures/PluginData/ThalassaHeight.dds
					offset = 0
					deformity = 1050.0
					scaleDeformityByRadius = false
					order = 12
					enabled = true
				}
				VertexSimplexHeight
				{
					seed = 221221
					deformity = 15.0
					octaves = 12.0
					persistence = 0.7
					frequency = 1.0
					order = 102
					enabled = true
				}
				VertexSimplexNoiseColor
				{
					seed = 455
					blend = 0.1
					colorStart = 0,0,0,1
					colorEnd = 1,1,1,1
					octaves = 12.0
					persistence = 0.7
					frequency = 2.0
					order = 200
					enabled = true
				}
				VertexHeightNoiseVertHeight
				{
					seed = 1283042385
					frequency = 8
					octaves = 9
					persistance = 0.6
					heightStart = 0
					heightEnd = 1
					deformity = 20
					mode = Low
				}
			}
		}
	}
}
